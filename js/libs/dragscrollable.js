(function(e){e.fn.dragscrollable=function(t){var n=e.extend({dragSelector:">:first",acceptPropagatedEvent:true,preventDefault:true,delegateMode:false},t||{});var r={mouseDownHandler:function(t){if(t.which!=1){return false}else if(!t.data.acceptPropagatedEvent){if(t.target.localName=="input"||t.target.localName=="textarea"){return true}else if(t.target!=this){return false}}t.data.lastCoord={left:t.clientX,top:t.clientY};e.event.add(document,"mouseup",r.mouseUpHandler,t.data);e.event.add(document,"mousemove",r.mouseMoveHandler,t.data);if(t.data.preventDefault){t.preventDefault();return false}},mouseMoveHandler:function(e){var t={left:e.clientX-e.data.lastCoord.left,top:e.clientY-e.data.lastCoord.top};e.data.scrollable.scrollLeft(e.data.scrollable.scrollLeft()-t.left);e.data.scrollable.scrollTop(e.data.scrollable.scrollTop()-t.top);e.data.lastCoord={left:e.clientX,top:e.clientY};if(e.data.preventDefault){e.preventDefault();return false}},mouseUpHandler:function(t){e.event.remove(document,"mousemove",r.mouseMoveHandler);e.event.remove(document,"mouseup",r.mouseUpHandler);if(t.data.preventDefault){t.preventDefault();return false}}};this.each(function(){var t={scrollable:e(this),acceptPropagatedEvent:n.acceptPropagatedEvent,preventDefault:n.preventDefault};if(n.delegateMode){e(this).delegate(n.dragSelector,"mousedown",t,r.mouseDownHandler)}else{e(this).find(n.dragSelector).bind("mousedown",t,r.mouseDownHandler)}})}})(jQuery)