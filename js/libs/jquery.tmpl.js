(function(e,t){function h(t,n,r,i){var u={data:i||i===0||i===false?i:n?n.data:{},_wrap:n?n._wrap:null,tmpl:null,parent:n||null,nodes:[],calls:w,nest:E,wrap:S,html:x,update:T};if(t){e.extend(u,t,{nodes:[],parent:n})}if(r){u.tmpl=r;u._ctnt=u._ctnt||u.tmpl(e,u);u.key=++f;(c.length?o:s)[f]=u}return u}function p(t,n,i){var s,o=i?e.map(i,function(e){return typeof e==="string"?t.key?e.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,"$1 "+r+'="'+t.key+'" $2'):e:p(e,t,e._ctnt)}):t;if(n){return o}o=o.join("");o.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,function(t,n,r,i){s=e(r).get();b(s);if(n){s=d(n).concat(s)}if(i){s=s.concat(d(i))}});return s?s:d(o)}function d(t){var n=document.createElement("div");n.innerHTML=t;return e.makeArray(n.childNodes)}function v(t){return new Function("jQuery","$item","var $=jQuery,call,__=[],$data=$item.data;"+"with($data){__.push('"+e.trim(t).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(/\$\{([^\}]*)\}/g,"{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,function(t,n,r,i,s,o,u){var a=e.tmpl.tag[r],f,l,c;if(!a){throw"Unknown template tag: "+r}f=a._default||[];if(o&&!/\w$/.test(s)){s+=o;o=""}if(s){s=g(s);u=u?","+g(u)+")":o?")":"";l=o?s.indexOf(".")>-1?s+g(o):"("+s+").call($item"+u:s;c=o?l:"(typeof("+s+")==='function'?("+s+").call($item):("+s+"))"}else{c=l=f.$1||"null"}i=g(i);return"');"+a[n?"close":"open"].split("$notnull_1").join(s?"typeof("+s+")!=='undefined' && ("+s+")!=null":"true").split("$1a").join(c).split("$1").join(l).split("$2").join(i||f.$2||"")+"__.push('"})+"');}return __;")}function m(t,n){t._wrap=p(t,true,e.isArray(n)?n:[i.test(n)?n:e(n).html()]).join("")}function g(e){return e?e.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):null}function y(e){var t=document.createElement("div");t.appendChild(e.cloneNode(true));return t.innerHTML}function b(t){function v(t){function v(e){e=e+n;p=a[e]=a[e]||h(p,s[p.parent.key+n]||p.parent)}var i,u=t,c,p,d;if(d=t.getAttribute(r)){while(u.parentNode&&(u=u.parentNode).nodeType===1&&!(i=u.getAttribute(r))){}if(i!==d){u=u.parentNode?u.nodeType===11?0:u.getAttribute(r)||0:0;if(!(p=s[d])){p=o[d];p=h(p,s[u]||o[u]);p.key=++f;s[f]=p}if(l){v(d)}}t.removeAttribute(r)}else if(l&&(p=e.data(t,"tmplItem"))){v(p.key);s[p.key]=p;u=e.data(t.parentNode,"tmplItem");u=u?u.key:0}if(p){c=p;while(c&&c.key!=u){c.nodes.push(t);c=c.parent}delete p._ctnt;delete p._wrap;e.data(t,"tmplItem",p)}}var n="_"+l,i,u,a={},c,p,d;for(c=0,p=t.length;c<p;c++){if((i=t[c]).nodeType!==1){continue}u=i.getElementsByTagName("*");for(d=u.length-1;d>=0;d--){v(u[d])}v(i)}}function w(e,t,n,r){if(!e){return c.pop()}c.push({_:e,tmpl:t,item:this,data:n,options:r})}function E(t,n,r){return e.tmpl(e.template(t),n,r,this)}function S(t,n){var r=t.options||{};r.wrapped=n;return e.tmpl(e.template(t.tmpl),t.data,r,t.item)}function x(t,n){var r=this._wrap;return e.map(e(e.isArray(r)?r.join(""):r).filter(t||"*"),function(e){return n?e.innerText||e.textContent:e.outerHTML||y(e)})}function T(){var t=this.nodes;e.tmpl(null,null,null,this).insertBefore(t[0]);e(t).remove()}var n=e.fn.domManip,r="_tmplitem",i=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,s={},o={},u,a={key:0,data:{}},f=0,l=0,c=[];e.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,n){e.fn[t]=function(r){var i=[],o=e(r),a,f,c,h,p=this.length===1&&this[0].parentNode;u=s||{};if(p&&p.nodeType===11&&p.childNodes.length===1&&o.length===1){o[n](this[0]);i=this}else{for(f=0,c=o.length;f<c;f++){l=f;a=(f>0?this.clone(true):this).get();e(o[f])[n](a);i=i.concat(a)}l=0;i=this.pushStack(i,t,o.selector)}h=u;u=null;e.tmpl.complete(h);return i}});e.fn.extend({tmpl:function(t,n,r){return e.tmpl(this[0],t,n,r)},tmplItem:function(){return e.tmplItem(this[0])},template:function(t){return e.template(t,this[0])},domManip:function(t,r,i,o){if(t[0]&&e.isArray(t[0])){var a=e.makeArray(arguments),f=t[0],c=f.length,h=0,p;while(h<c&&!(p=e.data(f[h++],"tmplItem"))){}if(p&&l){a[2]=function(t){e.tmpl.afterManip(this,t,i)}}n.apply(this,a)}else{n.apply(this,arguments)}l=0;if(!u){e.tmpl.complete(s)}return this}});e.extend({tmpl:function(t,n,r,i){var u,f=!i;if(f){i=a;t=e.template[t]||e.template(null,t);o={}}else if(!t){t=i.tmpl;s[i.key]=i;i.nodes=[];if(i.wrapped){m(i,i.wrapped)}return e(p(i,null,i.tmpl(e,i)))}if(!t){return[]}if(typeof n==="function"){n=n.call(i||{})}if(r&&r.wrapped){m(r,r.wrapped)}u=e.isArray(n)?e.map(n,function(e){return e?h(r,i,t,e):null}):[h(r,i,t,n)];return f?e(p(i,null,u)):u},tmplItem:function(t){var n;if(t instanceof e){t=t[0]}while(t&&t.nodeType===1&&!(n=e.data(t,"tmplItem"))&&(t=t.parentNode)){}return n||a},template:function(t,n){if(n){if(typeof n==="string"){n=v(n)}else if(n instanceof e){n=n[0]||{}}if(n.nodeType){n=e.data(n,"tmpl")||e.data(n,"tmpl",v(n.innerHTML))}return typeof t==="string"?e.template[t]=n:n}return t?typeof t!=="string"?e.template(null,t):e.template[t]||e.template(null,i.test(t)?t:e(t)):null},encode:function(e){return(""+e).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}});e.extend(e.tmpl,{tag:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){__=__.concat($item.nest($1,$2));}"},wrap:{_default:{$2:"null"},open:"$item.calls(__,$1,$2);__=[];",close:"call=$item.calls();__=call._.concat($item.wrap(call,__));"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},"if":{open:"if(($notnull_1) && $1a){",close:"}"},"else":{_default:{$1:"true"},open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){__.push($1a);}"},"=":{_default:{$1:"$data"},open:"if($notnull_1){__.push($.encode($1a));}"},"!":{open:""}},complete:function(e){s={}},afterManip:function(n,r,i){var s=r.nodeType===11?e.makeArray(r.childNodes):r.nodeType===1?[r]:[];i.call(n,r);b(s);l++}})})(jQuery)